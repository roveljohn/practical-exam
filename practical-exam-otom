// Name: [otom roveljohn l.]
// Section: [bsit 2B]
// Date: September 10, 2025

/**
 * A simple simulation of a LinkedList using arrays to support basic
 * stack and queue operations like add, poll, peek, and pop.
 */

public class ArrayLinkedListSimulation {
    private int[] elements;
    private int size;
    private static final int INITIAL_CAPACITY = 5;

    // Constructor to initialize the array and size
    public ArrayLinkedListSimulation() {
        elements = new int[INITIAL_CAPACITY];
        size = 0;
    }

    /**
     * Adds a new element to the end of the array.
     * Simulates adding to a linked list or enqueue operation.
     */
    public void add(int value) {
        // Expand array if full
        if (size == elements.length) {
            expandArray();
        }
        elements[size] = value;
        size++;
        System.out.println("Added: " + value);
    }

    /**
     * Removes and returns the first element in the array.
     * Simulates queue poll() or head removal.
     * Shifts elements left to fill the gap.
     */
    public int poll() {
        if (size == 0) {
            return -1;
        }
        int result = elements[0];
        // Shift all elements left
        for (int i = 1; i < size; i++) {
            elements[i - 1] = elements[i];
        }
        size--;
        System.out.println("Polled: " + result);
        return result;
    }

    /**
     * Returns the first element without removing it.
     * Returns -1 if the array is empty.
     */
    public int peek() {
        if (size == 0) {
            return -1;
        }
        int result = elements[0];
        System.out.println("Peeked: " + result);
        return result;
    }

    /**
     * Removes and returns the last element in the array.
     * Simulates stack pop() behavior.
     */
    public int pop() {
        if (size == 0) {
            return -1;
        }
        int result = elements[size - 1];
        size--;
        System.out.println("Popped: " + result);
        return result;
    }

    /**
     * Expands the internal array to double its current size.
     */
    private void expandArray() {
        int newCapacity = elements.length * 2;
        int[] newArray = new int[newCapacity];
        for (int i = 0; i < elements.length; i++) {
            newArray[i] = elements[i];
        }
        elements = newArray;
        System.out.println("Array expanded to capacity: " + newCapacity);
    }

    /**
     * Utility method to print current elements in the array.
     */
    public void printElements() {
        System.out.print("Current elements: ");
        for (int i = 0; i < size; i++) {
            System.out.print(elements[i] + " ");
        }
        System.out.println();
    }

    /**
     * Main method to test the implementation with 5 elements.
     */
    public static void main(String[] args) {
        ArrayLinkedListSimulation list = new ArrayLinkedListSimulation();

       
        list.add(10);
        list.add(20);
        list.add(30);
        list.add(40);
        list.add(50);

       
        list.printElements();

      
        list.peek();

       
        list.poll();
        list.printElements();

      
        list.pop();
        list.printElements();

        
        list.add(60);
        list.add(70);
        list.add(80);
        list.printElements();

       
        list.poll();
        list.pop();
        list.printElements();
    }
}
